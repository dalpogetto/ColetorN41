<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ColetorA41.Views.Calculo.EstabTec"
             Shell.NavBarIsVisible="true"
             Title="EstabTec">
    <Grid RowDefinitions="200,*,60">
        <StackLayout>
        <Grid RowDefinitions="100, 200">
            <Rectangle Fill="#D7F0FE" />
            <Ellipse Grid.Row="1" Fill="#D7F0FE" TranslationY="-110"/>
        </Grid>

        <VerticalStackLayout VerticalOptions="Center" Margin="0,-300,0,0">
            <Image
                Source="usuario.png"
                HeightRequest="80"
                HorizontalOptions="Center" Margin="0,0,0,10"/>

            <Label 
                Text="Estabelecimento e Técnico"
                FontAttributes="Bold"
                FontSize="22"
                VerticalOptions="Center" 
                 HorizontalOptions="Center" Margin="0,0,0,0"/>


            <ActivityIndicator
                Grid.Column="0"
                IsVisible="{Binding IsBusy}"
                HorizontalOptions="Center"
                IsRunning="{Binding IsBusy}"
                VerticalOptions="Center"
                
                />

        </VerticalStackLayout>
        </StackLayout>
        <VerticalStackLayout Grid.Row="1" Padding="20">

            <Label Text="Estabelecimento"/>
            <Picker Title="Selecione um Estabelecimento"
                    TitleColor="LightCoral" FontAttributes="Bold" FontSize="16"
                     ItemsSource="{Binding listaEstab}"  
                     ItemDisplayBinding="{Binding identific}"
                     SelectedItem="{Binding EstabSelecionado}"
                     Margin="0,0,0,40"/>

            <Label Text="Técnico"/>
            <Picker Title="Selecione um Técnico"
                     TitleColor="LightCoral" FontAttributes="Bold" FontSize="16"
                     ItemsSource="{Binding listaTecnico}"  
                     ItemDisplayBinding="{Binding identific}"
                     SelectedItem="{Binding TecnicoSelecionado}"/>  
        </VerticalStackLayout>

        <Grid ColumnDefinitions="*,*" Grid.Row="2" BackgroundColor="White">
            <VerticalStackLayout  Grid.Column="0" HorizontalOptions="Center">
                <Image Source="seta_esquerda" WidthRequest="50">
                    <Image.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding ChamarDadosNFCommand}" />
                    </Image.GestureRecognizers>
                </Image>

            </VerticalStackLayout>
            <VerticalStackLayout  Grid.Column="1" HorizontalOptions="Center">
                <Image Source="seta_direita" WidthRequest="50">
                    <Image.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding ChamarDadosNFCommand}" />
                    </Image.GestureRecognizers>
                </Image>
                
            </VerticalStackLayout>
        </Grid>
    </Grid>
</ContentPage>