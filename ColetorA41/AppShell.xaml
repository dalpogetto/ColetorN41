<?xml version="1.0" encoding="UTF-8" ?>
<Shell
    x:Class="ColetorA41.AppShell"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:local="clr-namespace:ColetorA41"
    xmlns:views="clr-namespace:ColetorA41.Views"
    xmlns:viewsCalc="clr-namespace:ColetorA41.Views.Calculo"
    xmlns:viewsMon="clr-namespace:ColetorA41.Views.Monitor"
    Shell.FlyoutBehavior="Flyout"
    Title="ColetorA41">

  
    <Shell.FlyoutHeaderTemplate>
        <DataTemplate>
            <Grid RowDefinitions="200,*">
                
                <Grid Grid.Row="0" >
                    
                    <Grid.Background>
                        <LinearGradientBrush EndPoint="1,0">
                            <GradientStop Color="{StaticResource dnBlue}" Offset="0.1" />
                            <GradientStop Color="{StaticResource dnPurple}"  Offset="0.5" />
                            <GradientStop Color="{StaticResource dnRed}"  Offset="1.0" />
                        </LinearGradientBrush>

                    </Grid.Background>

                    
                    <Grid HorizontalOptions="Center" Margin="0,20"
                          VerticalOptions="Start">
                         

                        <Label Text="Auto Atendimento"
                           TextColor="White"
                           FontSize="28"
                           FontAttributes="Bold"                           
                           />

                        <Label Text="ColetorA41"
                           TextColor="White"
                           FontSize="18"
                           HorizontalTextAlignment="Center"
                           VerticalTextAlignment="Center" 
                           Margin="0,40,0,0"/>

                        <VerticalStackLayout VerticalOptions="End">
                            <Label Text="{Binding EstabSelecionado.identific}"/>
                            <Label Text="{Binding TecnicoSelecionado.identific}"/>
                        </VerticalStackLayout>
                    </Grid>

                    <Grid Grid.Row="1">
                        <Image Source="dn_logo_black.png" WidthRequest="100" HeightRequest="100" HorizontalOptions="End" VerticalOptions="End" Margin="0,-10"/>
                    </Grid>


                </Grid>

            </Grid>

        </DataTemplate>

    </Shell.FlyoutHeaderTemplate>

   
    <ShellContent
        Title="Loading"
        ContentTemplate="{DataTemplate views:Loading}"
        Shell.FlyoutBehavior="Disabled"
        Shell.FlyoutItemIsVisible="False" />

    <ShellContent
    Title="Login"
    ContentTemplate="{DataTemplate views:Login}"
    Shell.FlyoutBehavior="Disabled"
    Shell.FlyoutItemIsVisible="False"/>


    <ShellContent
  Icon="home"
  Title="Home Page"
  Route="MainPage"
  Shell.FlyoutItemIsVisible="False"      
  ContentTemplate="{DataTemplate views:MainPage}"
   />



    <ShellContent
     Icon="calculo"
     Title="Cálculo de Necessidades"
     ContentTemplate="{DataTemplate viewsCalc:EstabTec}"
     
     />

    <ShellContent
     Icon="monitor"
     Title="Monitor Acompanhamento"
     ContentTemplate="{DataTemplate viewsCalc:EstabTec}"
     
     />

    <!--<FlyoutItem Title="Cálculo" Icon="calculo" Route="Calculo">
        <Tab Title="Estab/Técnico" Icon="tecnico">
            <ShellContent Route="EstabTec" ContentTemplate="{DataTemplate viewsCalc:EstabTec}" />
        </Tab>
        <Tab Title="Dados NF" Icon="param">
            <ShellContent Route="DadosNF" ContentTemplate="{DataTemplate viewsCalc:DadosNF}"/>
        </Tab>
        <Tab Title="Extrakit" Icon="extrakt">
            <ShellContent Route="ExtrakitView" ContentTemplate="{DataTemplate viewsCalc:ExtrakitView}" />
        </Tab>
        <Tab Title="Resumo" Icon="resumo">
            <ShellContent Route="Resumo" ContentTemplate="{DataTemplate viewsCalc:Resumo}" />
        </Tab>
    </FlyoutItem>-->

    <Shell.FlyoutFooterTemplate>
        <DataTemplate>
            <StackLayout>

                <HorizontalStackLayout HorizontalOptions="Center" Margin="0,10" Spacing="10">
                    <Image Source="version" Aspect="AspectFit" WidthRequest="36">
                        <Image.Shadow>
                            <Shadow Brush="{StaticResource dnBlue}"
                                    Offset="0,5"
                                    Radius="20"
                                    Opacity="0.8" />   
                        </Image.Shadow>
                    </Image>
                    <Label Text="{Binding ObterVersao, StringFormat='{0}'}"
                           TextColor="{StaticResource dnBlue}"
                           FontSize="20"
                           FontAttributes="Bold"
                           HorizontalOptions="Center" 
                           VerticalTextAlignment="Center" />

                </HorizontalStackLayout>
                <Border StrokeShape="RoundRectangle 10"  Padding="10" Margin="15,20" 
                        BackgroundColor="{StaticResource dnWhite}" >

                    <Border.Shadow>
                        <Shadow Brush="{StaticResource dnPurple}"
                    Offset="0,5"
                    Radius="5"
                    Opacity="0.6"
                    />
                    </Border.Shadow>

                    <VerticalStackLayout HorizontalOptions="Center" Spacing="10" >
                        <HorizontalStackLayout Spacing="10" VerticalOptions="Center" HorizontalOptions="Center">
                            <Image Source="user" Aspect="AspectFit" WidthRequest="24"></Image>
                            <Label Text="{Binding UsuarioLogado}" TextColor="{StaticResource dnBlue}"  FontAttributes="Bold" VerticalTextAlignment="Center"/>
                        </HorizontalStackLayout>
                        <Button Text="Logout" Command="{Binding LogoutCommand}" Background="{StaticResource dnBlue}" CornerRadius="20" WidthRequest="220"></Button>
                    </VerticalStackLayout>

                </Border>

                <!--<Button Text="Logout SUPER" Margin="20" Command="{Binding LogoutCommand}"></Button>-->
                

               
            </StackLayout>
        </DataTemplate>
    </Shell.FlyoutFooterTemplate>


</Shell>
